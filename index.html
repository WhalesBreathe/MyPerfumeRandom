<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>香水随机抽取器</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            color: #8b6b61;
            font-size: 2.5rem;
            margin-bottom: 30px;
            font-weight: 300;
            letter-spacing: 2px;
        }
        
        .draw-btn {
            background: #e8b4bc;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px 0;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(232, 180, 188, 0.4);
        }
        
        .draw-btn:hover {
            background: #d9a3ab;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(232, 180, 188, 0.6);
        }

        .add-btn {
            background: #7fb77e;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 30px;
            cursor: pointer;
            margin: 10px 0 0 0;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(127, 183, 126, 0.3);
        }

        .add-btn:hover {
            background: #6aa56d;
            transform: translateY(-2px);
        }
        
        .result-section {
            display: none;
            margin: 40px 0;
            padding: 40px;
            background: linear-gradient(135deg, #fdf6f0 0%, #f8edeb 100%);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.5s ease;
            /* 垂直水平居中内容 */
            display: none; /* 初始隐藏 */
            align-items: center;
            justify-content: center;
            text-align: center;
            flex-direction: column;
            gap: 10px;
        }
        
        .result-text {
            font-size: 1.8rem;
            color: #8b6b61;
            margin-bottom: 0;
            line-height: 1.5;
            text-align: center; /* 使段落文本水平居中 */
        }
        
        .perfume-name {
            font-weight: bold;
            color: #9c89b8;
            font-size: 2.2rem;
            display: inline-block;
            margin: 0 5px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            animation: namePop 0.5s ease;
        }
        
        /* 已移除“再次抽取”按钮样式；使用单一“开始抽取”按钮重复抽取 */
        
        .loading {
            display: none;
            margin: 20px 0;
        }
        
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #9c89b8;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        /* 模态弹窗 */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.45);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: #fff;
            padding: 20px 18px;
            border-radius: 12px;
            min-width: 300px;
            max-width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.12);
            text-align: left;
        }

        .modal-content h3 {
            margin-bottom: 10px;
            color: #8b6b61;
            font-weight: 500;
        }

        .modal-actions {
            margin-top: 12px;
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }

        .input-text {
            width: 100%;
            padding: 10px 8px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1rem;
            outline: none;
        }

        .msg-success {
            color: #2d7a3e;
            font-size: 0.95rem;
            margin-top: 8px;
        }

        .msg-error {
            color: #b03a2e;
            font-size: 0.95rem;
            margin-top: 8px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes namePop {
            0% { transform: scale(0.8); opacity: 0; }
            70% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .instructions {
            margin-top: 20px;
            color: #777;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .footer {
            margin-top: 30px;
            color: #999;
            font-size: 0.8rem;
        }
        
        .perfume-count {
            margin-top: 10px;
            color: #9c89b8;
            font-weight: bold;
        }
        /* 左上角管理按钮 */
        .manage-btn {
            position: fixed;
            left: 18px;
            top: 18px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: #6b8ed6;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 18px rgba(107,142,214,0.25);
            cursor: pointer;
            z-index: 1500;
        }

        .manage-btn:hover::after {
            content: '点击进入管理香水库';
            position: absolute;
            left: 60px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.75);
            color: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 0.85rem;
            white-space: nowrap;
        }

        /* 管理面板 */
        .manage-panel {
            display: none;
            position: fixed;
            inset: 60px 20px 20px 20px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
            z-index: 1600;
            padding: 18px;
            overflow: auto;
        }

        .manage-panel h2 { color:#8b6b61; margin-bottom: 10px; }

        .manage-controls { display:flex; gap:8px; margin-bottom:12px; }

        .manage-list { display:block; margin-top:8px; }

        .manage-item { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border-bottom:1px solid #f0f0f0; }

        .manage-item .name { flex:1; padding-right:10px; }

        .btn-small { padding:6px 8px; border-radius:6px; border:none; cursor:pointer; }

        .btn-edit { background:#f0ad4e; color:#fff }
        .btn-delete { background:#d9534f; color:#fff }
        .btn-add { background:#5cb85c; color:#fff }
        .btn-undo { background:#5bc0de; color:#fff }
        .btn-save { background:#337ab7; color:#fff }
        .btn-back { background:#6c757d; color:#fff }
    </style>
</head>
<body>
    <button id="manageBtn" class="manage-btn" title="管理香水库">⋮</button>
    <div class="container">
        <h1>今天用什么香水</h1>
        
        <p class="perfume-count">香水库中有 <span id="perfumeCount">0</span> 款香水</p>
        
        <button id="drawBtn" class="draw-btn">开始抽取</button>
        
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p>正在抽取中...</p>
        </div>
        
        <div class="result-section" id="resultSection">
            <div class="result-text"> <span class="perfume-name" id="perfumeName">未知香水</span> </div>
        </div>
        
        <button id="addBtn" class="add-btn">添加香水</button>
    </div>
    
    <!-- 模态弹窗 -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <h3>添加香水</h3>
            <label for="newPerfume">您想要为香水库添加的香水为：</label>
            <input id="newPerfume" class="input-text" type="text" placeholder="输入香水名称..." />
            <div id="modalMsg"></div>
            <div class="modal-actions">
                <button id="cancelAdd" class="add-btn" style="background:#ccc;color:#333;">取消</button>
                <button id="confirmAdd" class="add-btn">添加</button>
            </div>
        </div>
    </div>
    
    <!-- 管理面板 -->
    <div class="manage-panel" id="managePanel">
        <h2>管理香水库</h2>
        <div class="manage-controls">
            <button id="mpAdd" class="btn-small btn-add">新增</button>
            <button id="mpUndo" class="btn-small btn-undo">撤回</button>
            <button id="mpSave" class="btn-small btn-save">保存</button>
            <button id="mpBack" class="btn-small btn-back">返回抽取</button>
        </div>

        <div id="manageList" class="manage-list"></div>

        <div id="manageEdit" style="margin-top:12px; display:none;">
            <input id="editInput" class="input-text" type="text" />
            <div style="margin-top:8px; text-align:right;">
                <button id="editCancel" class="btn-small" style="background:#ccc">取消</button>
                <button id="editSave" class="btn-small btn-add">保存</button>
            </div>
        </div>
    </div>
    </div>
    
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const drawBtn = document.getElementById('drawBtn');
            const loading = document.getElementById('loading');
            const resultSection = document.getElementById('resultSection');
            const perfumeName = document.getElementById('perfumeName');
            // 已移除单独的“再次抽取”按钮，使用同一个开始按钮重复抽取
            const perfumeCount = document.getElementById('perfumeCount');
            
            // 香水数据
            let perfumes = [
                {"name": "莱俪墨恋"},
                {"name": "奥利弗So Pure如纯男士"},
                {"name": "祖马珑鼠尾草与海盐"},
                {"name": "橘滋脏话"},
                {"name": "阿蒂仙布列塔尼的空气"},
                {"name": "莫杰雏菊花语"},
                {"name": "梅森马吉拉温暖壁炉 By the Fireplace"},
                {"name": "梅森马吉拉爵士酒廊 Jazz Club"},
                {"name": "阿玛尼寄情男士"},
                {"name": "解放橘郡你或像你的人"},
                {"name": "解放橘郡我是垃圾"},
                {"name": "解放橘郡圣婴"},
                {"name": "解放橘郡龙与玫瑰"},
                {"name": "解放橘郡赫曼如影"},
                {"name": "祖马珑葡萄藤与柏木"},
                {"name": "解放橘郡我是垃圾"},
                {"name": "解放橘郡攻壳机动队"},
                {"name": "爱马仕大地香精"},
                {"name": "爱马仕大地淡香水"},
                {"name": "万宝龙探寻旅者"},
                {"name": "博柏利伦敦男士"},
                {"name": "解放橘郡攻壳机动队"},
                {"name": "配枪朱丽叶非香水"},
                {"name": "配枪朱丽叶莫斯科之骡"},
                {"name": "艾克卡帕白苔"},
                {"name": "解放橘郡一无所有"},
                {"name": "米勒博涛斯双重薄荷"},
                {"name": "莫若森柑橘之书"},
                {"name": "纳西索纯粹迷情（精纯麝香）"},
                {"name": "潘海利根月亮女神"},
                {"name": "SMN佛罗伦萨天使"},
                {"name": "SMN扑扑莉"},
                {"name": "SMN托斯卡诺烟草"},
                {"name": "液态创想粉色之彼（醉玫瑰）"},
                {"name": "蒂普提克谭道"},
                {"name": "芦丹氏修女"},
                {"name": "潘海利根裁缝"},
                {"name": "詹姆斯·海利鲜薄荷"},
                {"name": "阿蒂仙冥府之路馥郁版"},
                {"name": "梅森马吉拉慵懒周末"},
                {"name": "梵克雅宝月光广霍"},
                {"name": "SMN石榴"},
                {"name": "解放橘郡茉莉与雪茄"},
                {"name": "解放橘郡牧神的午后"},
                {"name": "解放橘郡同名古龙"},
                {"name": "配枪朱丽叶隐衫之欲"},
                {"name": "爱马仕血色大黄"},
                {"name": "帝国之香光之呐喊"},
                {"name": "爱慕回忆录男士"},
                {"name": "爱慕史诗女士"},
                {"name": "爱慕玫瑰焚香"},
                {"name": "蒂普提克水中影"},
                {"name": "蒂普提克纸上"},
                {"name": "阿蒂仙淘气野狼"},
                {"name": "莱俪珍珠美人"},
                {"name": "古特尔忍冬"},
                {"name": "娇兰一千零一夜"},
                {"name": "爱慕间奏曲男士"},
                {"name": "爱慕秘藏神谕"},
                {"name": "馥马尔香水出版社窈窕如她（贵妇肖像）"},
                {"name": "蒂普提克杜耶尔EDT"},
                {"name": "蒂普提克奥费恩（爵梦）EDP"},
                {"name": "芦丹氏母狼"},
                {"name": "娇兰香草甜酒"},
                {"name": "宾利黑色尊爵"},
                {"name": "弗拉潘永不复返"},
                {"name": "芦丹氏玻璃纸之夜（八月夜桂）"},
                {"name": "徕汀霍斯卡蓝"},
                {"name": "潘海利根牧羊少年EDP"},
                {"name": "潘海利根琴酒（杜松司令）EDT"},
                {"name": "SMN鸢尾"},
                {"name": "梵诗柯香MFK晶红540香精"},
                {"name": "弗拉潘炽木"},
                {"name": "蒂普提克杜桑晚香玉EDP"},
                {"name": "俾你乜是但求其"},
                {"name": "俾你乜落班之后"},
                {"name": "娇兰柑橘罗勒"},
                {"name": "TDC白扎戈拉"},
                {"name": "蒂普提克无花果EDT"},
                {"name": "蒙大拿红宝石3号"},
                {"name": "蔻依木兰诗语"},
                {"name": "ALTERNATIVE LAB黑色花谷"},
                {"name": "阿曼奢华Mariya"},
                {"name": "阿曼奢华Wanderlust"},
                {"name": "阿曼奢华Oud Aquilaria"},
                {"name": "阿曼奢华Overdose"},
                {"name": "蝴蝶工匠树妖Dryad"},
                {"name": "蝴蝶工匠阿努比斯Anubis"},
                {"name": "蝴蝶工匠烟草玫瑰Tobacco Rose"},
                {"name": "门蒂托洛萨天狼星Sirio"},
                {"name": "门蒂托洛萨人才"},
                {"name": "门蒂托洛萨愚人"},
                {"name": "tf黑之黑"},
                {"name": "爱慕化蝶女"},
                {"name": "爱慕迪亚女"},
                {"name": "lelabo檀木33"},
                {"name": "芦丹氏乳牙"},
                {"name": "杰弗里灰色法兰绒"},
                {"name": "蒂普提克漩涡edp"},
                {"name": "帕尔马之水桃金娘加州桂"},
                {"name": "柏氛602胡椒、雪松与广藿香"},
                {"name": "面具等待"},
                {"name": "面具爱情杀戮"},
                {"name": "米欧法修尼小歌"},
                {"name": "米欧法修尼#2旅行笔记：谢谢"},
                {"name": "艾利斯布鲁克林神话"},
                {"name": "SMN小苍兰"},
                {"name": "馥马尔香水出版社法国情人"},
                {"name": "奥比维斯抹茶"},
                {"name": "卡朗白色烟草"},
                {"name": "梅森马吉拉鲜花市场"},
                {"name": "凯利安天使之享微醺版"},
                {"name": "纳西索黑瓶For Her她的同名女士淡香水"},
                {"name": "纳西索柔雾迷情"},
                {"name": "萨那花园金发柏柏尔人"},
                {"name": "古特尔火焰乳香"},
                {"name": "娇兰土耳其玫瑰"},
                {"name": "馥马尔香水出版社狂野麝香"},
                {"name": "馥马尔香水出版社不羁香根草"},
                {"name": "香奈儿巴黎-巴黎"},
                {"name": "尼可莱紫罗兰的爱"},
                {"name": "银杉鸢尾丛"},
                {"name": "浪凡琶音"},
                {"name": "尼可莱纽约"},
                {"name": "雅克罗幻雾"},
                {"name": "尼可莱宫娥"},
                {"name": "米勒海莉诗秘密花园"},
                {"name": "配枪朱丽叶复仇女神"},
                {"name": "SMN玫瑰"},
                {"name": "潘海利根狐狸"},
                {"name": "门蒂托洛萨北方"},
                {"name": "门蒂托洛萨圣意"},
                {"name": "杜加尔密西西比医学"},
                {"name": "杜加尔德巴瑟"},
                {"name": "尼古莱沙漠驿站"},
                {"name": "威尼斯商人安达卢西亚之魂"},
                {"name": "爱慕黄金女"},
                {"name": "爱慕蜿蜒"},
                {"name": "翡冷翠之香黑郁金香"},
                {"name": "弗拉潘1270"},
                {"name": "杰奎斯菲斯失乐园"},
                {"name": "卡普里岛特拉米亚"},
                {"name": "臆想作家燃烧的城市"},
                {"name": "YSL红丝绒"},
                {"name": "阿蒂仙小偷玫瑰"},
                {"name": "柔山白与白芷"},
                {"name": "柔山亿万富翁"},
                {"name": "爱绰虚幻宫殿"},
                {"name": "阿特金森梅菲尔的金色舞会"},
                {"name": "爱马仕尼罗河花园"},
                {"name": "阿特金森玫瑰梦境"},
                {"name": "阿特金森阿特金森 无根之水"},
                {"name": "阿特金森挚爱捧花语"},
                {"name": "尼古莱粉缎麝香精粹"}
            ];
            
            // localStorage 持久化：尝试从 localStorage 加载，如无则写入初始列表
            const STORAGE_KEY = 'perfumes';
            function savePerfumes() {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(perfumes));
                } catch (e) {
                    console.warn('保存到 localStorage 失败', e);
                }
            }

            (function loadPerfumes() {
                try {
                    const raw = localStorage.getItem(STORAGE_KEY);
                    if (raw) {
                        const parsed = JSON.parse(raw);
                        if (Array.isArray(parsed) && parsed.length) {
                            perfumes = parsed;
                        } else {
                            // 如果解析结果不是数组则写入初始列表
                            savePerfumes();
                        }
                    } else {
                        // 首次使用：保存默认列表到 localStorage
                        savePerfumes();
                    }
                } catch (e) {
                    console.warn('从 localStorage 读取香水库失败，使用内置列表', e);
                }
            })();

            // 显示香水总数
            perfumeCount.textContent = perfumes.length;
            
            // 开始抽取（现在可以重复使用同一个按钮）
            drawBtn.addEventListener('click', function() {
                // 隐藏结果，显示加载动画
                resultSection.style.display = 'none';
                loading.style.display = 'block';
                drawBtn.disabled = true; // 在加载时禁用按钮，防止重复点击

                // 模拟抽取过程（添加一点延迟增强体验）
                setTimeout(function() {
                    // 随机选择一款香水
                    const randomIndex = Math.floor(Math.random() * perfumes.length);
                    const selectedPerfume = perfumes[randomIndex].name;

                    // 更新结果显示
                    perfumeName.textContent = selectedPerfume;

                    // 隐藏加载动画，显示结果（使用 flex 居中），重新启用按钮
                    loading.style.display = 'none';
                    resultSection.style.display = 'flex';
                    drawBtn.disabled = false;
                }, 200);
            });

            // 添加香水功能：弹窗和处理
            const addBtn = document.getElementById('addBtn');
            const modal = document.getElementById('modal');
            const cancelAdd = document.getElementById('cancelAdd');
            const confirmAdd = document.getElementById('confirmAdd');
            const newPerfumeInput = document.getElementById('newPerfume');
            const modalMsg = document.getElementById('modalMsg');

            function openModal() {
                modal.style.display = 'flex';
                modalMsg.innerHTML = '';
                newPerfumeInput.value = '';
                newPerfumeInput.focus();
            }

            function closeModal() {
                modal.style.display = 'none';
            }

            addBtn.addEventListener('click', openModal);
            cancelAdd.addEventListener('click', closeModal);

            confirmAdd.addEventListener('click', function() {
                const name = newPerfumeInput.value.trim();
                if (!name) {
                    modalMsg.innerHTML = '<div class="msg-error">请输入香水名。</div>';
                    newPerfumeInput.focus();
                    return;
                }

                // 去重检查（不区分大小写）
                const exists = perfumes.some(p => p.name.toLowerCase() === name.toLowerCase());
                if (exists) {
                    modalMsg.innerHTML = '<div class="msg-error">香水已存在于库中。</div>';
                    return;
                }

                // 添加到数组并更新计数
                perfumes.push({ name });
                perfumeCount.textContent = perfumes.length;
                // 持久化
                savePerfumes();

                modalMsg.innerHTML = '<div class="msg-success">添加成功！</div>';

                // 1s 后自动关闭弹窗
                setTimeout(() => {
                    closeModal();
                }, 800);
            });

            // --- 管理面板逻辑 ---
            const manageBtn = document.getElementById('manageBtn');
            const managePanel = document.getElementById('managePanel');
            const manageList = document.getElementById('manageList');
            const mpAdd = document.getElementById('mpAdd');
            const mpUndo = document.getElementById('mpUndo');
            const mpSave = document.getElementById('mpSave');
            const mpBack = document.getElementById('mpBack');
            const manageEdit = document.getElementById('manageEdit');
            const editInput = document.getElementById('editInput');
            const editCancel = document.getElementById('editCancel');
            const editSave = document.getElementById('editSave');

            let workingPerfumes = [];
            let history = []; // 存放以前的状态用于撤回
            let editingIndex = -1;

            function pushHistory() {
                history.push(JSON.stringify(workingPerfumes));
                // 限制史深度
                if (history.length > 50) history.shift();
            }

            function renderManageList() {
                manageList.innerHTML = '';
                workingPerfumes.forEach((p, idx) => {
                    const div = document.createElement('div');
                    div.className = 'manage-item';
                    const name = document.createElement('div');
                    name.className = 'name';
                    name.textContent = p.name;
                    div.appendChild(name);

                    const actions = document.createElement('div');
                    actions.style.display = 'flex';
                    actions.style.gap = '6px';

                    const btnEdit = document.createElement('button');
                    btnEdit.className = 'btn-small btn-edit';
                    btnEdit.textContent = '编辑';
                    btnEdit.addEventListener('click', () => startEdit(idx));

                    const btnDelete = document.createElement('button');
                    btnDelete.className = 'btn-small btn-delete';
                    btnDelete.textContent = '删除';
                    btnDelete.addEventListener('click', () => deleteItem(idx));

                    actions.appendChild(btnEdit);
                    actions.appendChild(btnDelete);
                    div.appendChild(actions);
                    manageList.appendChild(div);
                });
            }

            function openManagePanel() {
                // 创建工作副本
                workingPerfumes = JSON.parse(JSON.stringify(perfumes));
                history = [];
                editingIndex = -1;
                renderManageList();
                managePanel.style.display = 'block';
            }

            function closeManagePanel() {
                managePanel.style.display = 'none';
                manageEdit.style.display = 'none';
            }

            function startEdit(idx) {
                editingIndex = idx;
                editInput.value = workingPerfumes[idx].name;
                manageEdit.style.display = 'block';
                editInput.focus();
            }

            function deleteItem(idx) {
                pushHistory();
                workingPerfumes.splice(idx, 1);
                renderManageList();
            }

            mpAdd.addEventListener('click', function() {
                pushHistory();
                workingPerfumes.push({ name: '新香水' });
                renderManageList();
            });

            editCancel.addEventListener('click', function() {
                manageEdit.style.display = 'none';
                editingIndex = -1;
            });

            editSave.addEventListener('click', function() {
                const val = editInput.value.trim();
                if (!val) return;
                pushHistory();
                if (editingIndex >= 0 && editingIndex < workingPerfumes.length) {
                    workingPerfumes[editingIndex].name = val;
                }
                editingIndex = -1;
                manageEdit.style.display = 'none';
                renderManageList();
            });

            mpUndo.addEventListener('click', function() {
                if (!history.length) return;
                const last = history.pop();
                try {
                    workingPerfumes = JSON.parse(last);
                } catch (e) {
                    console.warn('撤回解析失败', e);
                }
                renderManageList();
            });

            mpSave.addEventListener('click', function() {
                // 保存工作副本到主数组并持久化
                perfumes = JSON.parse(JSON.stringify(workingPerfumes));
                savePerfumes();
                perfumeCount.textContent = perfumes.length;
                closeManagePanel();
            });

            mpBack.addEventListener('click', function() {
                closeManagePanel();
            });

            manageBtn.addEventListener('click', function() {
                if (managePanel.style.display === 'block') closeManagePanel();
                else openManagePanel();
            });
        });
    </script>
</body>
</html>